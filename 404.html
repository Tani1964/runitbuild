<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>React Router</title>
    <script type="text/javascript">
      // SPA support script for GitHub Pages to only trigger on 404 errors
      // This prevents unnecessary redirection when the page is accessible
      
      // Check if the browser should redirect to the modified URL
      (function () {
        // Only trigger the script if the pathname isn't the root ("/") and has no file extension
        if (window.location.pathname !== '/' && !window.location.pathname.match(/\.[^\/]+$/)) {
          var pathSegmentsToKeep = 0;
          var l = window.location;

          // Create the new URL format
          var newUrl =
            l.protocol +
            '//' +
            l.hostname +
            (l.port ? ':' + l.port : '') +
            l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') +
            '/?/' +
            l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
            (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
            l.hash;

          // Redirect only if necessary (not already in `/?/` format)
          if (!l.search.startsWith('?/')) {
            l.replace(newUrl);
          }
        }
      })();
    </script>
  </head>
  <body></body>
</html>